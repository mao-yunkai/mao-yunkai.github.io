
<!DOCTYPE html>


<html lang="zh-CN" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>几何学 &#8212; 毛云开的知识库 0.1 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=8f2a1f02" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="../_static/documentation_options.js?v=051c1eab"></script>
    <script src="../_static/doctools.js?v=9bcbadda"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '数学/几何学';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="统计学" href="%E7%BB%9F%E8%AE%A1%E5%AD%A6.html" />
    <link rel="prev" title="代数学" href="%E4%BB%A3%E6%95%B0%E5%AD%A6.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="zh-CN"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">毛云开的知识库 0.1 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">数学</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="%E9%80%BB%E8%BE%91%E5%AD%A6.html">逻辑学</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E5%88%86%E6%9E%90%E5%AD%A6.html">分析学</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E4%BB%A3%E6%95%B0%E5%AD%A6.html">代数学</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">几何学</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E7%BB%9F%E8%AE%A1%E5%AD%A6.html">统计学</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E6%A6%82%E7%8E%87%E8%AE%BA.html">概率论</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E4%BF%A1%E6%81%AF%E8%AE%BA.html">信息论</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E5%8D%9A%E5%BC%88%E8%AE%BA.html">博弈论</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">机器学习</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E6%95%B0%E6%8D%AE.html">数据</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E8%AE%AD%E7%BB%83.html">训练</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/%E8%AF%84%E4%BC%B0.html">评估</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">深度学习</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C.html">神经网络</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%BF%80%E6%B4%BB%E5%87%BD%E6%95%B0.html">激活函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0.html">损失函数</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%AD%A3%E5%88%99%E5%8C%96%E6%8A%80%E6%9C%AF.html">正则化</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E5%8F%8D%E5%90%91%E4%BC%A0%E6%92%AD.html">反向传播</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%B3%A8%E6%84%8F%E5%8A%9B%E6%9C%BA%E5%88%B6.html">注意力机制</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/%E6%A8%A1%E5%9E%8B%E9%83%A8%E7%BD%B2.html">模型部署</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">强化学习</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0.html">强化学习</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/%E7%AD%96%E7%95%A5%E6%A2%AF%E5%BA%A6%E6%96%B9%E6%B3%95.html">策略梯度方法</a></li>
<li class="toctree-l1"><a class="reference internal" href="../%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/%E4%BB%B7%E5%80%BC%E5%87%BD%E6%95%B0%E6%96%B9%E6%B3%95.html">Deep Q Learning</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">工程应用</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../%E5%B7%A5%E7%A8%8B%E5%BA%94%E7%94%A8/%E7%82%B9%E4%BA%91%E8%AF%AD%E4%B9%89%E5%88%86%E5%89%B2.html">点云语义分割</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/数学/几何学.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>几何学</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">解析几何</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">刚体运动</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">旋转矩阵</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">旋转向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">欧拉角</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">四元数</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>几何学<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<section id="id2">
<h2>解析几何<a class="headerlink" href="#id2" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>空间直角坐标系 右手规则，x轴向左，y轴向右，z轴向上</p></li>
<li><p>向量的模、方向角、投影</p></li>
<li><p>向量加法可以用平行四边形法则，将第二个向量的终点与第一个向量的起点相连，新向量是从第一个向量的起点到第二个向量的终点的向量。</p></li>
<li><p>向量减法可以用三角形法则，新向量是从第二个向量的终点到第一个向量向量终点的向量</p></li>
<li><p>向量的数量积<br />
<div class="math notranslate nohighlight">
\[ \vec a\cdot \vec b=\cos\theta|\vec a||\vec b| = \sum_{i=1}^na_ib_i=a_1b_1 + a_2b_2 + ... \]</div>
<br />
向量数量积的值可以表示两个向量的方向的相似度，值越大，两个向量方向越接近，最大值表示两个向量方向相同，最小值表示两个向量方向相反</p></li>
<li><p>向量的向量积 向量积<span class="math notranslate nohighlight">\(\vec c=\vec a\times \vec b\)</span>的模是<span class="math notranslate nohighlight">\(|\vec a| |\vec b| \sin\theta\)</span>，方向是按右手法则的法向量方向。
<div class="math notranslate nohighlight">
\[\begin{split} \vec a\times \vec b=\left(\begin{matrix}{a_{y}b_{z}-a_{z}b_{y}}\\\end{matrix}\right)i+\left(\begin{matrix}{a_{z}b_{z}-a_{x}b_{z}}\\\end{matrix}\right)j+\left(\begin{matrix}{a_{x}b_{y}-a_{y}b_{x}}\\\end{matrix}\right)k\end{split}\]</div>

<div class="math notranslate nohighlight">
\[\begin{split} \vec a\times \vec b=\begin{vmatrix}i&amp;j&amp;k\\a_x&amp;a_y&amp;a_z\\b_x&amp;b_y&amp;b_z\end{vmatrix} \end{split}\]</div>
</p></li>
<li><p>平面的一般方程 <span class="math notranslate nohighlight">\(Ax+By+Cz+D=0\)</span></p></li>
<li><p>空间直线的一般方程
<div class="math notranslate nohighlight">
\[\begin{split} \begin{cases}A_1x+B_1y+C_1z+D_1=0,\\[2ex]A_2x+B_2y+C_2z+D_2=0.\end{cases} \end{split}\]</div>
</p></li>
<li><p>两直线夹角
<div class="math notranslate nohighlight">
\[ \cos\varphi=\frac{\mid m_{1}m_{2}+n_{1}n_{2}+p_{1}p_{2}\mid}{\sqrt{m_{1}^{2}+n_{1}^{2}+p_{1}^{2}}\sqrt{m_{2}^{2}+n_{2}^{2}+p_{2}^{2}}} \]</div>
</p></li>
<li><p>直线与平面的夹角
<div class="math notranslate nohighlight">
\[ \sin\varphi=\frac{\mid Am+Bn+Cp\mid}{\sqrt{A^2+B^2+C^2}\sqrt{m^2+n^2+p^2}}. \]</div>
</p></li>
<li><p>坐标系点<span class="math notranslate nohighlight">\((x,y)\)</span>绕原点旋转变换公式：
<div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}
  x' = x\cos\theta+y\sin\theta \\
  y' = y\cos\theta-x\sin\theta \\
  \end{cases} \end{split}\]</div>
</p></li>
<li><p>坐标系点<span class="math notranslate nohighlight">\((x,y)\)</span>绕点<span class="math notranslate nohighlight">\((x_1, y_1)\)</span>旋转变换公式：
<div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}
  x' = (x-x_1)\cos\theta+(y-y_1)\sin\theta+x_1 \\
  y' = (y-y_1)\cos\theta-(x-x_1)\sin\theta+y_1
  \end{cases} \end{split}\]</div>
</p></li>
<li><p>曲面研究的基本问题</p>
<ul>
<li><p>已知一曲面作为点的几何轨迹时，建立这曲面的基本问题；</p></li>
<li><p>已知坐标之间的一个方程时，研究方程所表示的曲面的形状。</p></li>
</ul>
</li>
<li><p>曲面方程</p>
<ul>
<li><p>球面 - <span class="math notranslate nohighlight">\(x^2+y^2+z^2=R^2\)</span></p></li>
<li><p>旋转曲面 - 在曲线C的方程<span class="math notranslate nohighlight">\(f(y,z)=0\)</span>中将<span class="math notranslate nohighlight">\(y\)</span>改成<span class="math notranslate nohighlight">\(\pm\sqrt{x^{2}+y^{2}}\)</span>，便得曲线C绕z轴旋转所称的旋转曲面的方程。</p></li>
<li><p>柱面 - <span class="math notranslate nohighlight">\(x^2+y^2=R^2\)</span></p></li>
<li><p>九种二次曲面，不一一列举</p></li>
</ul>
</li>
<li><p>空间曲线</p>
<ul>
<li><p>一般方程<br />
设<span class="math notranslate nohighlight">\(F(x,y,z)=0\)</span>和<span class="math notranslate nohighlight">\(G(x,y,z)=0\)</span>是两个曲面的方程，则方程组
<div class="math notranslate nohighlight">
\[\begin{split}\begin{cases}F\left(x,y,z\right)=0,\\G\left(x,y,z\right)=0.\end{cases}\end{split}\]</div>

就是这两个曲面的交线<span class="math notranslate nohighlight">\(C\)</span>的方程。</p></li>
<li><p>参数方程
<div class="math notranslate nohighlight">
\[\begin{split} \begin{cases}x=x(t),\\y=y(t),\\z=z(t).\end{cases} \end{split}\]</div>
</p></li>
</ul>
</li>
</ul>
</section>
<section id="id3">
<h2>刚体运动<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<section id="id4">
<h3>旋转矩阵<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>三维线性空间中的一组基<span class="math notranslate nohighlight">\((\mathbfit e_1, \mathbfit e_2, \mathbfit e_3)\)</span>，任意向量<span class="math notranslate nohighlight">\(\mathbfit a\)</span>在这组基下有一个坐标</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\mathbfit a = [\mathbfit e_1, \mathbfit e_2, \mathbfit e_3]
\left [ \begin{array}{} a_1 \\ a_2 \\ a_3 \end{array}\right]
=
a_1\mathbfit e_1+a_2\mathbfit e_2+a_3\mathbfit e_3
\end{split}\]</div>
<p><span class="math notranslate nohighlight">\((a_1, a_2, a_3)^T\)</span>称为<span class="math notranslate nohighlight">\(\mathbfit a\)</span>在此基下的坐标。
坐标系分为左手坐标系和右手坐标系，右手坐标系定义为拇指指向x轴正方向，食指指向y轴正方向，中指指向z轴正方向，左手坐标系定义相同。坐标系是一组单位正交基。
不同坐标系下表示的向量是相同的：</p>
<div class="math notranslate nohighlight">
\[\begin{split}\mathbfit a = \begin{bmatrix} \mathbfit e_1&amp;\mathbfit e_2&amp;\mathbfit e_3\end{bmatrix}\begin{bmatrix}a_1\\a_2\\a_3\end{bmatrix}=\begin{bmatrix} \mathbfit e'_1&amp;\mathbfit e'_2&amp;\mathbfit e'_3\end{bmatrix}\begin{bmatrix}a'_1\\a'_2\\a'_3\end{bmatrix}\end{split}\]</div>
<div class="math notranslate nohighlight">
\[\begin{split}\begin{bmatrix}a_1\\a_2\\a_3\end{bmatrix}=
\begin{bmatrix}
e_1^T e_1 &amp; e_1^T e_2 &amp; e_1^T e_3 \\
e_2^T e_1 &amp; e_2^T e_2 &amp; e_2^T e_3 \\
e_3^T e_1 &amp; e_3^T e_2 &amp; e_3^T e_3
\end{bmatrix}
\begin{bmatrix}a'_1\\a'_2\\a'_3\end{bmatrix}\end{split}\]</div>
<p>中间的矩阵定义为旋转矩阵<span class="math notranslate nohighlight">\(\mathbfit R\)</span>，该式表示旋转矩阵将向量<span class="math notranslate nohighlight">\(\mathbfit a'\)</span>转成<span class="math notranslate nohighlight">\(\mathbfit a\)</span>。</p>
<p>设向量<span class="math notranslate nohighlight">\(\mathbfit a\)</span>在坐标系1和坐标系2中的坐标分别为<span class="math notranslate nohighlight">\(\mathbfit a_1\)</span>，<span class="math notranslate nohighlight">\(\mathbfit a_2\)</span>。他们之间的关系为
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
\mathbfit a_1 &amp;= \mathbfit R_{12}\mathbfit a_2+\mathbfit t_{12} \\
\mathbfit a_2 &amp;= \mathbfit R_{21}\mathbfit a_1+\mathbfit t_{21}
\end{align}
\end{split}\]</div>

这里<span class="math notranslate nohighlight">\(\mathbfit R_{12}\)</span>是指“把坐标系2的向量变换到坐标系1中”。<span class="math notranslate nohighlight">\(\mathbfit t_{12}\)</span>是平移向量，<strong>实际对应的是从坐标系1原点指向坐标系2原点的向量，在坐标系1下取得坐标</strong>。
<span class="math notranslate nohighlight">\(n\)</span>维旋转矩阵的集合是特殊正交群，定义为：
<div class="math notranslate nohighlight">
\[SO(n)=\{\mathbfit R\in \mathbb R^{n\times n}| \mathbfit R\mathbfit R^T=\mathbfit I, \det(\mathbfit R)=1 \}.\]</div>

为了使多次变换具有线性关系，我们使用齐次坐标，即在每个三维向量的末尾添加1，将其变为四维向量。我们定义变换矩阵为：
<div class="math notranslate nohighlight">
\[\begin{split}
SE(3) = \left\{
    \boldsymbol{T} = 
    \begin{bmatrix}
        \boldsymbol{R} &amp; \boldsymbol{t} \\
        \boldsymbol{0}^{\mathrm{T}} &amp; 1
    \end{bmatrix} 
    \in \mathbb{R}^{4 \times 4} 
    \;\Bigg|\; 
    \boldsymbol{R} \in SO(3), \, \boldsymbol{t} \in \mathbb{R}^3 
\right\}
\end{split}\]</div>
</p>
</section>
<section id="id5">
<h3>旋转向量<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>旋转矩阵用9个量表示3个自由度的旋转，变换矩阵用16个量表示6个自由度的变换。使用一个旋转轴和一个旋转角来表示一个旋转，旋转向量定位为方向与旋转轴一致，长度等于旋转角的向量。假设旋转轴为一个单位长度的向量<span class="math notranslate nohighlight">\(\mathbfit n\)</span>，角度为<span class="math notranslate nohighlight">\(\theta\)</span>，那么向量<span class="math notranslate nohighlight">\(\theta \mathbfit n\)</span>也可以描述这个旋转。
使用罗德里格斯公式将旋转向量转为旋转矩阵：
<div class="math notranslate nohighlight">
\[
\mathbfit R = \cos\theta \mathbfit I + (1 - \cos\theta) \mathbfit{n} \mathbfit{n}^{T} + \sin\theta \, \mathbfit{n}^\wedge
\]</div>

旋转矩阵转旋转向量：</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\theta &amp;= \arccos {\frac{tr(\mathbfit R)-1}{2}},\\
\mathbfit R\mathbfit n &amp;= \mathbfit n.
\end{align}
\end{split}\]</div>
</section>
<section id="id6">
<h3>欧拉角<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>旋转可以看作是绕三个轴分别旋转一定角度组合而成。通常约定：</p>
<ol class="arabic simple">
<li><p>绕物体的Z轴旋转，得到偏航角yaw。</p></li>
<li><p>绕旋转之后的Y轴旋转，得到俯仰角pitch。</p></li>
<li><p>绕旋转之后的X轴旋转，得到滚转角roll。
此时，可以使用<span class="math notranslate nohighlight">\([r,p,y]^T\)</span>这样一个三维的向量描述任意旋转。</p></li>
</ol>
</section>
<section id="id7">
<h3>四元数<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<p><a class="reference external" href="https://www.3dgep.com/understanding-quaternions/">Understanding Quaternions | 3D Game Engine Programming</a>
四元数定义为：
<div class="math notranslate nohighlight">
\[\begin{split}\begin{align}
\mathbfit q=s+x\mathrm{i}+y\mathrm{j}+z\mathrm{k}\\
\begin{cases}
\mathrm {i^2=j^2=k^2=-1}\\
\mathrm {ij=k,ji=-k}\\
\mathrm {jk=i, kj=-i}\\
\mathrm {ki=j,ik=-j}
\end{cases}
\end{align}\end{split}\]</div>

其中<span class="math notranslate nohighlight">\(\mathrm{i,j,k}\)</span>为四元数的三个虚部。
把<span class="math notranslate nohighlight">\(\mathrm{i,j,k}\)</span>看成三个坐标轴，用一个标量和一个向量来表达四元数：
<div class="math notranslate nohighlight">
\[\mathbfit q=[s,\mathbfit v]^T, s=w\in \mathbb R, \mathbfit v=[x,y,z]^T\in \mathbb R^3.\]</div>
</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>运算</p></th>
<th class="head"><p>公式</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>加减法</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbfit q_a \pm \mathbfit q_b = [s_a \pm s_b,\mathbfit v_a \pm \mathbfit v_b]^T\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>乘法</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbfit q_a \mathbfit q_b=[s_as_b-\mathbfit v_a^T \mathbfit v_b, s_a\mathbfit v_b +s_b\mathbfit v_a+\mathbfit v_a\times\mathbfit v_b ]^T\)</span></p></td>
</tr>
<tr class="row-even"><td><p>模长</p></td>
<td><p><span class="math notranslate nohighlight">\(\parallel \mathbfit q_a \parallel=\sqrt {s_a^2+x_a^2+y_a^2+z_a^2}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>共轭</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbfit q^*_a=[s_a, -\mathbfit v_a]^T\)</span></p></td>
</tr>
<tr class="row-even"><td><p>逆</p></td>
<td><p><span class="math notranslate nohighlight">\(\mathbfit q_a^{-1}=\mathbfit q^*/{\parallel \mathbfit q \parallel ^2}\)</span></p></td>
</tr>
<tr class="row-odd"><td><p>数乘</p></td>
<td><p><span class="math notranslate nohighlight">\(k\mathbfit q=[ks, k\mathbfit v]^T\)</span></p></td>
</tr>
</tbody>
</table>
</div>
<p>单位四元数<span class="math notranslate nohighlight">\(\mathbfit q=[s,\lambda\mathbfit {\hat v}]\)</span>可以表示一个旋转。三维空间中的一个点<span class="math notranslate nohighlight">\(\mathbfit p\)</span>经过绕单位向量<span class="math notranslate nohighlight">\(\mathbfit {\hat v}\)</span>旋转角度<span class="math notranslate nohighlight">\(\theta\)</span>得到<span class="math notranslate nohighlight">\(\mathbfit p'\)</span>，则用四元数表示为</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align}
\mathbfit q&amp;=[\cos\frac{1}{2}\theta,\sin\frac{1}{2}\theta\mathbfit {\hat v}]\\
\mathbfit p'&amp;=\mathbfit q\mathbfit p\mathbfit q^{-1}
\end{align}
\end{split}\]</div>
<blockquote>
<div><p><strong>为什么用单位四元数？</strong>
因为旋转后向量模长不变，应当乘以单位四元数。
<strong>为什么要乘以四元数的逆？</strong>
<span class="math notranslate nohighlight">\(\mathbfit p'=\mathbfit q\mathbfit p=[-\lambda\mathbfit {\hat v}\mathbfit p,s\mathbfit p+\lambda\mathbfit {\hat v}\times\mathbfit p]\)</span>，经过旋转后三维空间中的点被带到四维空间了，实部不再为0，需要乘以四元数的逆才能将其变回纯四元数，重新映射到三维空间中。<span class="math notranslate nohighlight">\(\mathbfit p'=\mathbfit {qpq^{-1}}=[\lambda^2(\mathbfit{\hat v \times p})\cdot\mathbfit {\hat v},\cdots]\)</span>，因为叉积的向量与原向量垂直，两者点积必为0，因此实部必为0，得到的结果是纯四元数。
<strong>为什么角度要除以2？</strong>
当旋转轴与向量垂直的时候，旋转后的向量永远与原向量处于同一个空间，而一般情况下，旋转轴与原向量不垂直，需要旋转两次才能回到三维空间，则角度也需要相应的变化。</p>
</div></blockquote>
</section>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="%E4%BB%A3%E6%95%B0%E5%AD%A6.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">代数学</p>
      </div>
    </a>
    <a class="right-next"
       href="%E7%BB%9F%E8%AE%A1%E5%AD%A6.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">统计学</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">解析几何</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">刚体运动</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">旋转矩阵</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">旋转向量</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">欧拉角</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">四元数</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Leo Mao
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Leo Mao.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>